---
- name: include variable overrides
  set_fact:
    _mongodb_package: "{{ mongodb_package | default(_mongodb_package_default | sorted_get(overrides)) }}"
  vars:
    overrides:
      - "{{ ansible_distribution | lower }}-{{ ansible_distribution_release | lower }}"
      - "{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version }}"
      - "{{ ansible_distribution | lower }}"
      - "{{ ansible_os_family | lower }}"
      - "default"
  tags:
    - always

- name: install mongodb package
  become: yes
  package:
    name: "{{ _mongodb_package }}"
    state: "{{ mongodb_state }}"
